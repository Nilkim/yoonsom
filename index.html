<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>루바 계산기</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css2?family=Hi+Melody&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="index.css"> <!-- 외부 CSS 파일 링크 -->
</head>
<body>
    <div id="container">
        <div id="calculator">
            <label for="widthInput" class="label"><span class="highlight">시공할 면의 가로 너비 입력 :</span></label>
            <input type="number" id="widthInput" placeholder="너비(mm)" maxlength="6">

            <span class="unit">mm</span>
            <br>
            <button onclick="calculate()">계산하기</button>
            <br><hr>
            <p id="resultX" class="result"></p>
            <p id="filmAdvice" class="result"></p>
            <p id="moldingResult" class="result"></p>
            <p id="cuttingAdvice" class="result"></p>
        </div>
        <div id="canvasContainer"> <!-- 캔버스를 별도의 컨테이너에 배치 -->
            <canvas id="myCanvas"></canvas>
        </div>
    </div>

    <script src="draw.js"></script>
    <script>
        function calculate() {
            var width = document.getElementById('widthInput').value;
            var x = Math.floor(width / 80);
            var molding = Math.ceil(width / 1200);
            var remainder = width % 1200;
            var film = width % 80;

            document.getElementById('resultX').style.display = "block";
            document.getElementById('moldingResult').style.display = "block";
            document.getElementById('resultX').innerText = "루바 필요 개수: " + x + "개";
            document.getElementById('resultX').className = "result";

            if (width % 80 === 0) {
                document.getElementById('filmAdvice').style.display = "block";
                document.getElementById('filmAdvice').innerText = "길이가 딱 맞아 떨어져, 인테리어 필름은 필요 없습니다:)";
                document.getElementById('filmAdvice').className = "result";
            } else {
                document.getElementById('filmAdvice').style.display = "block";
                document.getElementById('filmAdvice').innerText = "남는 부분 " + film + "mm에 붙일 인테리어 필름이 필요합니다:)";
                document.getElementById('filmAdvice').className = "result";
            }

            
            // 여기에 <hr> 태그 추가
            var existingHr = document.querySelector('.custom-hr');
            if (existingHr) {
            existingHr.parentNode.removeChild(existingHr);
            var hr = document.createElement('hr');
            hr.className = 'custom-hr'; // 클래스 추가

            
            document.getElementById('moldingResult').innerText = "마감 몰딩 필요 개수: " + molding + "개";
            document.getElementById('moldingResult').className = "result";

            if (remainder === 0) {
                document.getElementById('cuttingAdvice').style.display = "block";
                document.getElementById('cuttingAdvice').innerText = "길이가 딱 맞아 떨어져, 재단은 필요 없습니다:)";
                document.getElementById('cuttingAdvice').className = "result";
            } else {
                document.getElementById('cuttingAdvice').style.display = "block";
                document.getElementById('cuttingAdvice').innerHTML = "이 중 하나는 " + remainder + "mm 길이로 재단을 해야 합니다. 맞춤 재단 키트를 추천드려요:)";
                document.getElementById('cuttingAdvice').className = "result";
            }

            var width = document.getElementById('widthInput').value;
        var numberOfLubas = Math.floor(width / 80); // 사용자 입력 너비에 따른 루바 개수 계산
drawCanvas(width, numberOfLubas);
}
document.getElementById('widthInput').addEventListener('input', function() {
        var value = this.value;
        if (value.length > 6) {
            this.value = value.slice(0, 6); // 최대 6자리 숫자만 허용
        }
    });
</script>

</body>
</html>
