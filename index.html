<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>루바 계산기</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css2?family=Hi+Melody&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Hi Melody', cursive;
            text-align: center;
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        #container {
            display: inline-block;
            text-align: center;
            margin-top: 20px;
            padding: 0 20px;
        }
        .label, .unit, button, input {
            font-size: 1.5em;
            font-family: 'Hi Melody', cursive;
        }
        .result {
            font-size: 3em;
        }
        .highlight {
            display: inline;
            box-shadow: inset 0 -10px 0 #F3DEAF;
        }
        button {
            background-color: #F3DEAF;
            border: none;
            padding: 10px 20px;
            cursor: pointer;
            border-radius: 15px;
        }
        button:hover {
            opacity: 0.9;
        }
        #resultX, #moldingResult, #cuttingAdvice, #filmAdvice {
            display: none;
        }

        @media (max-width: 768px) {
            .label, .unit, button, input {
                font-size: 2em;
            }
            .result {
                font-size: 4em;
            }
            #container {
                width: 100%;
                margin-top: 10px;
            }
        }
        
        #myCanvas {
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <div id="container">
        <label for="widthInput" class="label"><span class="highlight">시공할 면의 가로 너비 입력 :</span></label>
        <input type="number" id="widthInput" placeholder="너비(mm)" style="font-size: 1.5em;">
        <span class="unit">mm</span>
        <button onclick="calculate()">계산하기</button>
        <p id="resultX" class="result"></p>
        <p id="filmAdvice" class="result"></p>
        <p id="moldingResult" class="result"></p>
        <p id="cuttingAdvice" class="result"></p>
    </div>

    <canvas id="myCanvas"></canvas>

    <script src="draw.js"></script>
    <script>
        function calculate() {
            var width = document.getElementById('widthInput').value;
            var x = Math.floor(width / 80);
            var molding = Math.ceil(width / 1200);
            var remainder = width % 1200;

            document.getElementById('resultX').style.display = "block";
            document.getElementById('moldingResult').style.display = "block";
            document.getElementById('resultX').innerText = "필요한 루바: " + x + "개";
            document.getElementById('resultX').className = "result";

            if (width % 80 === 0) {
                document.getElementById('filmAdvice').style.display = "block";
                document.getElementById('filmAdvice').innerText = "길이가 딱 맞아 떨어져, 인테리어 필름은 필요 없습니다. 정확한 사이즈를 측정했는지 꼭 확인해주세요.";
                document.getElementById('filmAdvice').className = "result";
            } else {
                document.getElementById('filmAdvice').style.display = "block";
                document.getElementById('filmAdvice').innerText = "인테리어 필름이 필요합니다.";
                document.getElementById('filmAdvice').className = "result";
            }

            document.getElementById('moldingResult').innerText = "마감 몰딩 필요 개수: " + molding + "개";
            document.getElementById('moldingResult').className = "result";

            if (remainder === 0) {
                document.getElementById('cuttingAdvice').style.display = "block";
                document.getElementById('cuttingAdvice').innerText = "길이가 딱 맞아 떨어져, 재단은 필요 없습니다.";
                document.getElementById('cuttingAdvice').className = "result";
            } else {
                document.getElementById('cuttingAdvice').style.display = "block";
                document.getElementById('cuttingAdvice').innerHTML = "이 중 하나는 " + remainder + "mm 길이로 재단을 해야 합니다. 맞춤 재단 키트를 추천드려요.";
                document.getElementById('cuttingAdvice').className = "result";
            }

            var width = document.getElementById('widthInput').value;
        drawCanvas(width);
}
</script>

</body>
</html>
